(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))p(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&p(h)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function p(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function g(e){const l=e.slice(0,e.length-1);return Number(l)?Number(l):l==="A"?11:10}const t=[],m=[],y=[],w=document.querySelector(".container_dealer-hand"),C=document.querySelector(".container_player-hand"),D=document.querySelector(".hit"),S=document.querySelector(".lose_dialog"),L=document.querySelector(".lose_dialog > h3"),[q,v]=document.querySelectorAll(".btn-close_dialog"),x=document.querySelector(".stand"),d=document.querySelector(".win_dialog"),f=document.querySelector(".win_dialog > h3"),o=[0],n=[0];function a(e,l){const i=document.createElement("img");i.src=`./assets/cartas/${e}.png`,i.classList.add("card"),l==="player"?(C.append(i),o[0]+=g(e)):(w.append(i),n[0]+=g(e))}function A(){for(let e=1;e<=13;e++)switch(e){case 1:t.push("AC"),t.push("AD"),t.push("AH"),t.push("AS");break;case 11:t.push("JC"),t.push("JD"),t.push("JH"),t.push("JS");break;case 12:t.push("QC"),t.push("QD"),t.push("QH"),t.push("QS");break;case 13:t.push("KC"),t.push("KD"),t.push("KH"),t.push("KS");break;default:t.push(e+"C"),t.push(e+"D"),t.push(e+"H"),t.push(e+"S");break}}function u(){return t.pop()}function E(){for(let e=0;e<=t.length-1;e++){let l=Math.floor(Math.random()*t.length-1+1),i=t[l];t[l]=t[e],t[e]=i}}function c(e){console.log(e),e==="BlackJack"?(f.innerText="Congratulations! ðŸŽ‰ You've hit a Blackjack! ðŸƒâœ¨",d.showModal()):e==="win"?(f.innerText="Congratulations! ðŸŽ‰ Youâ€™ve won this round.",d.showModal()):e==="tie"?(f.innerText="It's a tie! ðŸ¤ You matched the dealer in this round of Blackjack.",d.showModal()):(L.textContent=`Sorry, you lost. You got it ${o[0]}, the dealer has ${n[0]}. Better luck next time! ðŸ€`,S.showModal())}function H(e){a(u(),e),console.log({playerPoints:o,dealerPoints:n}),o[0]>21&&c("lose")}function M(){if(console.log({dealerPoints:n,playerPoints:o}),n[0]>21){c("win");return}if(o[0]<n[0]){c("lose");return}o[0]===n[0]?c("tie"):c("win")}function O(){for(;n[0]<17;)a(u()),console.log({playerPoints:o,dealerPoints:n});M()}function P(e,l){t.length=0,m.length=0,y.length=0,n[0]=0,o[0]=0,e.innerText="",l.innerText=""}function k(e){e==="lose"?S.close():d.close(),P(w,C),b()}function b(){A(),E(),console.log(t,n,o),a(u(),"player"),a(u()),a(u(),"player"),a(u()),console.log(y,m,t),o[0]===21&&o[0]>n[0]?c("BlackJack"):o[0]===21&&o[0]===n[0]?c("tie"):n[0]===21&&n[0]>o&&c()}b();console.log({playerPoints:o,dealerPoints:n});D.addEventListener("click",()=>H("player"));x.addEventListener("click",()=>O());q.addEventListener("click",()=>{k("lose")});v.addEventListener("click",()=>{k("win")});
